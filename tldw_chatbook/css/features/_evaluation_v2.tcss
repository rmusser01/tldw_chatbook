/* ========================================
 * FEATURES: Evaluation System v2
 * ======================================== 
 * Consolidated and improved evaluation system styles
 * Using modern Textual layout best practices
 * ======================================== */

/* --- Main Layout --- */
EvalsWindow {
    layout: horizontal;
    height: 100%;
    width: 100%;
}

/* --- Navigation Sidebar --- */
.evals-nav-pane {
    background: $surface;
    padding: 1;
    border-right: solid $primary;
    overflow-y: auto;
    height: 100%;
    width: 25%;
    min-width: 20;
}

.evals-nav-pane.collapsed {
    width: 0 !important;
    min-width: 0 !important;
    border-right: none !important;
    padding: 0 !important;
    overflow: hidden;
}

.sidebar-title {
    text-style: bold underline;
    width: 100%;
    text-align: center;
    margin-bottom: 2;
    color: $primary;
}

/* Navigation Buttons */
.evals-nav-button {
    width: 100%;
    height: 3;
    margin-bottom: 1;
    text-align: left;
    background: transparent;
    color: $text-muted;
    border: none;
    padding: 0 1;
}

.evals-nav-button:hover {
    background: $accent 30%;
    color: $text;
}

.evals-nav-button.active {
    background: $accent;
    color: $text;
    text-style: bold;
    border-left: thick $primary;
}

/* --- Content Area --- */
.evals-content-pane {
    layout: vertical;
    padding: 0;
    background: $background;
    overflow-y: auto;
    height: 100%;
    width: 1fr;
}

/* Evals-specific Sidebar Toggle */
#evals-content-pane > Button#evals-sidebar-toggle-button {
    dock: top;
    height: 3;
    width: 5;
    margin: 0 0 1 1;
    background: $surface;
    border: solid $primary-background;
    color: $primary;
    display: block !important;
    visibility: visible !important;
}

#evals-sidebar-toggle-button:hover {
    background: $surface-lighten-1;
    color: $text;
}

#evals-sidebar-toggle-button.collapsed {
    color: $secondary;
    border-left: thick $primary;
}

/* --- View Areas --- */
.evals-view-area {
    width: 100%;
    height: 100%;
    padding: 1;
    display: none;
}

/* Show active view */
#evals-view-setup {
    display: block;
}

/* Page Title */
.pane-title {
    text-style: bold underline;
    width: 100%;
    text-align: center;
    margin-bottom: 2;
    color: $primary;
}

/* --- Section Containers --- */
.section-container {
    background: $panel;
    padding: 2;
    margin-bottom: 2;
    border: round $primary-background;
    min-height: 10;
}

.section-title {
    text-style: bold;
    margin-bottom: 1;
    color: $primary;
    text-align: center;
}

.subsection-title {
    text-style: italic;
    margin: 1 0;
    color: $text-muted;
}

/* --- Grid Layouts --- */

/* Quick Configuration Grid */
.quick-config-container {
    layout: grid;
    grid-size: 2;
    grid-columns: 1fr 2fr;
    grid-gutter: 1 2;
    grid-rows: auto auto auto;
    background: $surface;
    padding: 2;
    margin: 1 0;
    border: round $secondary;
}

.config-label {
    text-align: right;
    color: $text-muted;
    align: center middle;
}

.config-input, .config-select {
    width: 100%;
}

/* Provider Grid */
.provider-grid {
    layout: grid;
    grid-size: 4;
    grid-columns: 1fr 1fr 1fr 1fr;
    grid-gutter: 1;
    margin-top: 1;
}

/* Template Grid */
.template-grid {
    layout: grid;
    grid-size: 3;
    grid-columns: 1fr 1fr 1fr;
    grid-gutter: 1;
    margin: 1 0;
}

/* Metrics Grid */
.metrics-grid {
    layout: grid;
    grid-size: 3;
    grid-columns: 1fr 1fr 1fr;
    grid-gutter: 1;
}

/* --- Buttons --- */
.action-button {
    height: 3;
    min-width: 15;
    background: $surface;
    border: round $primary-background;
}

.action-button:hover {
    background: $surface-lighten-1;
}

.action-button.primary {
    background: $primary;
    color: $text;
}

.action-button.primary:hover {
    background: $primary-lighten-1;
}

.action-button.danger {
    background: $error;
    color: $text;
}

.action-button.danger:hover {
    background: $error-lighten-1;
}

/* Button Rows */
.button-row {
    layout: horizontal;
    height: auto;
    margin-bottom: 1;
}

/* Provider Buttons */
.provider-button {
    height: 5;
    text-align: center;
    background: $surface;
    border: round $primary-background;
}

.provider-button:hover {
    background: $primary 30%;
    color: $text;
}

/* Template Buttons */
.template-button {
    min-width: 20;
    height: 3;
    background: $secondary-darken-1;
    color: $text;
    border: round $secondary;
}

.template-button:hover {
    background: $secondary;
}

/* --- Status Elements --- */
.status-text {
    width: 100%;
    margin-top: 1;
    padding: 1;
    background: $background-lighten-1;
    border: round $primary-background;
    color: $text-muted;
    text-style: italic;
}

.status-text.success {
    background: $success-darken-2;
    color: $text;
}

.status-text.error {
    background: $error-darken-2;
    color: $text;
}

.status-text.warning {
    background: $warning-darken-2;
    color: $text;
}

.status-text.info {
    background: $primary-darken-2;
    color: $text;
}

/* --- Results Containers --- */
.results-container, .models-container, .datasets-container {
    background: $surface-darken-1;
    padding: 2;
    margin-top: 1;
    border: round $primary-background;
    min-height: 10;
    max-height: 20;
    overflow-y: auto;
}

/* --- Help Text --- */
.help-text {
    color: $text-muted;
    text-style: italic;
    margin-bottom: 1;
}

/* --- Footer --- */
.footer-container {
    dock: bottom;
    height: auto;
    width: 100%;
    padding: 1;
    background: $surface-darken-2;
    border-top: solid $surface;
}

.tip-text {
    color: $text-muted;
    text-style: italic;
    margin: 0;
}

/* --- Progress Tracking --- */
#progress-section {
    background: $surface;
}

#progress-tracker {
    margin: 1 0;
}

/* --- Workflow Progress --- */
#workflow-progress {
    margin: 1 0;
}

/* --- Metrics Display --- */
#metrics-display {
    margin: 1 0;
}

/* --- Results Table --- */
#results-table {
    margin: 1 0;
    height: 20;
}

/* --- Cost Estimation --- */
#cost-estimator {
    margin-top: 1;
    min-height: 10;
}

.cost-widget {
    background: $surface;
    padding: 1;
    border: round $secondary;
    margin-bottom: 1;
}

.widget-title {
    text-style: bold;
    color: $primary;
    margin-bottom: 1;
}

.cost-section {
    padding: 1;
}

.section-label {
    color: $text-muted;
    margin-bottom: 0;
}

.cost-display {
    color: $success;
    text-style: bold;
}

.cost-display.large {
    text-style: bold;
    color: $success-lighten-1;
}

/* --- Responsive Design --- */
/* Note: Textual doesn't support @media queries yet, 
   so responsive behavior needs to be handled in Python code
   or through dynamic CSS classes */

/* --- Utility Classes --- */
.hidden {
    display: none !important;
}

/* --- Animation for Loading States --- */
.loading {
    opacity: 0.7;
}

/* Smooth transitions */
.evals-nav-button, .action-button, .provider-button, .template-button {
    transition: background 200ms, border 200ms, color 200ms;
}

/* View transitions */
.evals-view-area {
    transition: opacity 200ms;
}
/* ========================================
 * FEATURES: Unified Evaluation Dashboard
 * ======================================== 
 * Single-page responsive design with collapsibles
 * Based on original UX design specifications
 * ======================================== */

/* --- Main Container --- */
.evals-main-container {
    layout: vertical;
    height: 100%;
}

/* --- Scrollable Dashboard --- */
.evals-unified-dashboard {
    background: $background;
    height: 1fr;
}

/* --- Quick Start Bar --- */
.quick-start-bar {
    height: auto;
    background: $surface;
    border-bottom: solid $primary;
    padding: 1;
    margin-bottom: 1;
}

.dashboard-title {
    text-style: bold;
    color: $primary;
    margin-bottom: 1;
}

.quick-actions {
    layout: horizontal;
    height: 3;
    margin-bottom: 1;
}

.quick-template-btn {
    margin-right: 1;
    min-width: 20;
}

/* Drop zone styling */
.drop-zone {
    layout: horizontal;
    height: 3;
    background: $panel;
    border: dashed $primary;
    padding: 0 2;
    align: center middle;
    margin: 1 0;
}

.drop-zone:hover {
    background: $boost;
    border: solid $primary;
}

.drop-text {
    margin-right: 1;
}

.inline-btn {
    height: 2;
    min-width: 10;
}

.suggestion-text {
    color: $text-muted;
    text-style: italic;
    margin-top: 1;
}

/* --- Main Content Area --- */
.main-content {
    padding: 1;
}

/* Ensure VerticalScroll works properly */
VerticalScroll {
    height: 100%;
}

/* Make sure the entire window uses available height */
EvalsWindow {
    height: 100%;
}

/* --- Collapsible Sections --- */
Collapsible {
    margin-bottom: 1;
    border: tall $surface;
    background: $panel;
}

Collapsible > Container {
    padding: 1;
}

Collapsible.-collapsed {
    margin-bottom: 1;
}

/* Task Creation Form */
.task-creation-form {
    padding: 1;
}

.template-editor {
    height: 6;
    margin: 1 0;
}

.metrics-selection {
    layout: horizontal;
    height: 3;
    margin: 1 0;
}

.metrics-selection Checkbox {
    margin-right: 2;
}

.task-actions {
    layout: horizontal;
    margin-top: 2;
}

.task-actions Button {
    margin-right: 1;
}

/* Quick Setup Form */
.quick-setup-form {
    padding: 1;
}

.config-grid {
    layout: grid;
    grid-columns: 1fr 1fr;
    grid-gutter: 1;
    margin-bottom: 2;
}

/* Note: Textual doesn't support @media queries
   Use reactive attributes or resize events for responsive design */

.cost-estimation-box {
    background: $surface;
    padding: 1;
    margin: 1 0;
    border: tall $secondary;
}

.cost-display {
    text-style: bold;
    color: $success;
}

.cost-warning {
    color: $warning;
    margin-top: 1;
}

.cost-warning.hidden {
    display: none;
}

/* Template Grid */
.template-grid {
    layout: grid;
    grid-columns: 1fr 1fr;
    grid-gutter: 1;
    margin-top: 1;
}

.template-card {
    height: 5;
    padding: 1;
    background: $surface;
    border: tall $primary;
    text-align: center;
}

.template-card:hover {
    background: $boost;
    border: thick $primary;
}

/* Advanced Configuration */
.advanced-config-form {
    padding: 1;
}

.param-grid {
    layout: grid;
    grid-columns: auto 1fr;
    grid-gutter: 1;
    margin-bottom: 2;
}

.system-prompt-editor {
    height: 4;
    margin: 1 0;
}

.config-toggles {
    layout: horizontal;
    margin-top: 1;
}

.config-toggles Checkbox {
    margin-right: 2;
}

/* Active Evaluations */
.active-eval-empty {
    min-height: 10;
    align: center middle;
}

.empty-message {
    color: $text-muted;
    text-align: center;
}

/* Action Bar */
.action-bar {
    layout: horizontal;
    background: $surface;
    padding: 1;
    margin: 2 0;
    border: tall $primary;
    align: center middle;
}

.action-button {
    margin-right: 1;
    min-width: 12;
}

.action-button.primary {
    background: $primary;
    color: $text;
}

.action-button.primary.large {
    min-width: 20;
    height: 3;
    text-style: bold;
}

.keyboard-hint {
    color: $text-muted;
    margin-left: 2;
}

/* Results Dashboard */
.results-dashboard {
    background: $panel;
    padding: 2;
    margin-top: 2;
    border: tall $primary;
}

.section-title {
    text-style: bold;
    color: $primary;
    margin-bottom: 1;
}

.results-header {
    layout: horizontal;
    height: 3;
    margin-bottom: 1;
    align: left middle;
}

.results-header Static {
    width: 1fr;
}

.results-header Select {
    width: 20;
}

.results-list {
    height: 15;
    background: $surface;
    border: tall $secondary;
    margin-bottom: 2;
}

/* Quick Stats Grid */
.quick-stats-grid {
    layout: grid;
    grid-columns: 1fr 1fr 1fr;
    grid-gutter: 1;
}

.stat-card {
    background: $surface;
    padding: 1;
    border: tall $secondary;
    text-align: center;
}

.stat-title {
    color: $text-muted;
    margin-bottom: 1;
}

.stat-value {
    text-style: bold;
    color: $primary;
}

/* Model/Dataset Management Sections */
.model-management-form,
.dataset-management-form {
    padding: 1;
}

.button-row {
    layout: horizontal;
    margin-bottom: 1;
}

.button-row Button {
    margin-right: 1;
}

.models-container,
.datasets-container {
    min-height: 10;
    background: $surface;
    border: tall $secondary;
    padding: 1;
}

/* Status Bar */
.status-bar {
    height: 3;
    background: $surface;
    border-top: solid $primary;
    padding: 0 2;
    layout: horizontal;
    align: left middle;
}

.status-text {
    width: 1fr;
}

.connection-indicator {
    width: 20;
    text-align: right;
}

/* Responsive Adjustments - handled in Python code via resize events */
/* For narrow screens, switch grids to single column */

/* Utility Classes */
.hidden {
    display: none;
}

.subsection-title {
    text-style: bold;
    color: $secondary;
    margin: 1 0;
}

.help-text {
    color: $text-muted;
    text-style: italic;
}

/* Focus States */
Input:focus,
Select:focus,
TextArea:focus {
    border: tall $accent;
}

/* Disabled States */
Button:disabled {
    opacity: 0.5;
}

/* Loading States */
.loading {
    opacity: 0.6;
}

/* Error States */
.error {
    border: tall $error;
    background: $error 10%;
}
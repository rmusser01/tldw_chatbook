/* ========================================
 * FEATURES: Evaluation System v3
 * ======================================== 
 * Two-column layout for Evaluation Setup
 * Improved UX with quick setup panel
 * ======================================== */

/* --- Main Layout Grid --- */
EvalsWindow {
    layout: horizontal;
    height: 100%;
    width: 100%;
}

/* --- Navigation Sidebar --- */
.evals-nav-pane {
    dock: left;
    width: auto;
    min-width: 20;
    max-width: 30;
    height: 100%;
    background: $surface;
    padding: 1;
    border-right: solid $primary;
    overflow-y: auto;
    overflow-x: hidden;
}

.evals-nav-pane.collapsed {
    width: 0 !important;
    min-width: 0 !important;
    border-right: none !important;
    padding: 0 !important;
    overflow: hidden !important;
    display: none !important;
}

.sidebar-title {
    text-style: bold underline;
    width: 100%;
    text-align: center;
    margin-bottom: 2;
    color: $primary;
}

/* Navigation Buttons */
.evals-nav-button {
    width: 100%;
    height: 3;
    margin-bottom: 1;
    text-align: left;
    background: transparent;
    color: $text-muted;
    border: none;
    padding: 0 1;
}

.evals-nav-button:hover {
    background: $accent 30%;
    color: $text;
}

.evals-nav-button.active {
    background: $accent;
    color: $text;
    text-style: bold;
    border-left: thick $primary;
}

/* --- Content Area --- */
.evals-content-pane {
    width: 1fr;
    height: 100%;
    layout: vertical;
    padding: 1 2;
    background: $background;
    overflow-y: auto;
}

/* Sidebar Toggle */
.sidebar-toggle {
    width: 3;
    height: 3;
    margin-right: 1;
    background: $surface;
    border: solid $primary-background;
}

.sidebar-toggle:hover {
    background: $surface-lighten-1;
}

/* --- View Areas --- */
.evals-view-area {
    width: 100%;
    height: 100%;
    padding: 1;
    display: none;
}

/* Show active view */
#evals-view-setup {
    display: block;
}

/* Page Title */
.pane-title {
    text-style: bold underline;
    width: 100%;
    text-align: center;
    margin-bottom: 2;
    color: $primary;
}

/* --- Two-Column Layout for Setup View --- */
.setup-two-columns {
    layout: grid;
    grid-size: 2;
    grid-columns: 1fr 3fr;
    grid-gutter: 2;
    height: auto;
    margin-bottom: 2;
}

/* Quick Setup Panel (Left Column) */
.quick-setup-panel {
    background: $panel;
    padding: 2;
    border: round $primary-background;
    height: auto;
}

/* Configuration Details Panel (Right Column) */
.config-details-panel {
    background: $panel;
    padding: 2;
    border: round $primary-background;
    height: auto;
}

/* --- Section Containers --- */
.section-container {
    background: $panel;
    padding: 2;
    margin-bottom: 2;
    border: round $primary-background;
}

.section-title {
    text-style: bold;
    margin-bottom: 1;
    color: $primary;
    text-align: center;
}

.subsection-title {
    text-style: italic;
    margin: 1 0;
    color: $text-muted;
}

/* --- Form Elements --- */
.form-label {
    color: $text-muted;
    margin-bottom: 0;
}

.form-input, .form-select {
    width: 100%;
    margin-bottom: 1;
}

.form-checkbox {
    margin: 1 0;
}

/* Configuration Info Box */
.config-info-box {
    background: $surface-darken-1;
    padding: 1;
    margin-bottom: 2;
    border: round $secondary;
}

.info-label {
    text-style: bold;
    color: $primary;
    margin-bottom: 1;
}

.config-display {
    padding: 1;
    color: $text;
}

/* --- Template Grid --- */
.template-grid-small {
    layout: grid;
    grid-size: 3;
    grid-columns: 1fr 1fr 1fr;
    grid-gutter: 1;
    margin: 1 0;
}

.template-grid {
    layout: grid;
    grid-size: 3;
    grid-columns: 1fr 1fr 1fr;
    grid-gutter: 1;
    margin: 1 0;
}

/* --- Progress Tracker Section --- */
.progress-tracker-section {
    background: $surface;
    padding: 2;
    margin-top: 2;
    border: round $primary-background;
}

/* --- Action Buttons --- */
.action-buttons {
    layout: horizontal;
    height: auto;
    margin: 2 0 1 0;
    align: center middle;
}

.action-button {
    height: 3;
    min-width: 15;
    background: $surface;
    border: round $primary-background;
    margin: 0 1;
}

.action-button:hover {
    background: $surface-lighten-1;
}

.action-button.primary {
    background: $primary;
    color: $text;
}

.action-button.primary:hover {
    background: $primary-lighten-1;
}

.action-button.danger {
    background: $error;
    color: $text;
}

.action-button.danger:hover {
    background: $error-lighten-1;
}

/* Button Rows */
.button-row {
    layout: horizontal;
    height: auto;
    margin-bottom: 1;
}

/* Provider Buttons */
.provider-button {
    height: 5;
    text-align: center;
    background: $surface;
    border: round $primary-background;
}

.provider-button:hover {
    background: $primary 30%;
    color: $text;
}

/* Template Buttons */
.template-button {
    min-width: 10;
    height: 3;
    background: $secondary-darken-1;
    color: $text;
    border: round $secondary;
    text-align: center;
}

.template-button:hover {
    background: $secondary;
}

/* --- Status Elements --- */
.status-text {
    width: 100%;
    margin-top: 1;
    padding: 1;
    background: $background-lighten-1;
    border: round $primary-background;
    color: $text-muted;
    text-style: italic;
}

.status-text.success {
    background: $success-darken-2;
    color: $text;
}

.status-text.error {
    background: $error-darken-2;
    color: $text;
}

.status-text.warning {
    background: $warning-darken-2;
    color: $text;
}

.status-text.info {
    background: $primary-darken-2;
    color: $text;
}

/* --- Results Containers --- */
.results-container, .models-container, .datasets-container {
    background: $surface-darken-1;
    padding: 2;
    margin-top: 1;
    border: round $primary-background;
    min-height: 10;
    max-height: 20;
    overflow-y: auto;
}

/* --- Help Text --- */
.help-text {
    color: $text-muted;
    text-style: italic;
    margin-bottom: 1;
}

/* --- Footer --- */
.footer-container {
    dock: bottom;
    height: auto;
    width: 100%;
    padding: 1;
    background: $surface-darken-2;
    border-top: solid $surface;
}

.tip-text {
    color: $text-muted;
    text-style: italic;
    margin: 0;
}

/* --- Progress Tracking --- */
#progress-tracker {
    margin: 1 0;
}

/* --- Workflow Progress --- */
#workflow-progress {
    margin: 1 0;
}

/* --- Metrics Display --- */
#metrics-display {
    margin: 1 0;
}

/* --- Results Table --- */
#results-table {
    margin: 1 0;
    height: 20;
}

/* --- Cost Estimation Widget --- */
#cost-estimator {
    margin: 1 0;
}

.cost-widget {
    background: $surface;
    padding: 1;
    border: round $secondary;
    margin-bottom: 1;
}

.widget-title {
    text-style: bold;
    color: $primary;
    margin-bottom: 1;
}

.cost-section {
    margin: 1 0;
}

.section-label {
    color: $text-muted;
    margin-bottom: 0;
}

.cost-display {
    color: $success;
    text-style: bold;
}

.cost-display.large {
}

.cost-display.muted {
    color: $text-muted;
}

.cost-details {
    color: $text-muted;
    margin-top: 0;
}

/* --- Advanced Options --- */
#advanced-options {
    margin-top: 1;
}

#advanced-options.collapsed .advanced-content {
    display: none;
}

/* --- Grid Layouts --- */

/* Provider Grid */
.provider-grid {
    layout: grid;
    grid-size: 4;
    grid-columns: 1fr 1fr 1fr 1fr;
    grid-gutter: 1;
    margin-top: 1;
}

/* --- Utility Classes --- */
.hidden {
    display: none !important;
}

.collapsed {
    display: none;
}

/* --- Animation for Loading States --- */
.loading {
    opacity: 0.7;
}

/* Transitions removed - not supported in Textual CSS */

/* Collapsible sections */
Collapsible {
    margin: 1 0;
}

Collapsible > Container {
    padding: 1;
    background: $surface-darken-1;
    border: round $primary-background;
}

/* Input fields within advanced options */
#advanced-options Input {
    width: 100%;
    margin-bottom: 1;
}

#advanced-options Label {
    color: $text-muted;
    margin-bottom: 0;
}